#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–¢–µ—Å—Ç —É—Å–∏–ª–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞–ª–æ—Ä–∏–π –¥–ª—è –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö –±–ª—é–¥
"""

import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent))

from utils.nutrition_validator import validate_nutrition_data

def test_enhanced_validation():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º —É—Å–∏–ª–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –±–ª—é–¥"""
    
    print("üß™ –¢–ï–°–¢ –£–°–ò–õ–ï–ù–ù–û–ô –í–ê–õ–ò–î–ê–¶–ò–ò –ö–ê–õ–û–†–ò–ô")
    print("=" * 60)
    
    # –¢–µ—Å—Ç 1: –ë–ª—é–¥–æ —Å –∫—É—Ä–∏—Ü–µ–π, –±—É–ª–≥—É—Ä–æ–º, —è–π—Ü–æ–º –∏ –æ–≤–æ—â–∞–º–∏ - –∑–∞–Ω–∏–∂–µ–Ω–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏
    description1 = "–±–ª—é–¥–æ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –≥–∞—Ä–Ω–∏—Ä–æ–º: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –æ—Ç–≤–∞—Ä–Ω–æ–π –±—É–ª–≥—É—Ä, –≤–∞—Ä–µ–Ω–æ–µ —è–π—Ü–æ, –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—É—Ä—Ü—ã, –∫—Ä–∞—Å–Ω—ã–π –ø–µ—Ä–µ—Ü"
    nutrition1 = {
        'calories': 380,  # –ó–∞–Ω–∏–∂–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        'protein': 31.0,
        'fat': 3.6,
        'carbs': 20.0
    }
    
    result1 = validate_nutrition_data(nutrition1, description1)
    print(f"–¢–µ—Å—Ç 1 - –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏: {nutrition1['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 1 - –ü–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {result1['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 1 - –û–∂–∏–¥–∞–µ–º–æ: 420+ –∫–∫–∞–ª –¥–ª—è 5 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –≤–∫–ª—é—á–∞—è –∫—É—Ä–∏—Ü—É+–≥–∞—Ä–Ω–∏—Ä+—è–π—Ü–æ")
    
    # –¢–µ—Å—Ç 2: –ü—Ä–æ—Å—Ç–æ–µ –±–ª—é–¥–æ —Å –∫—É—Ä–∏—Ü–µ–π –∏ —Ä–∏—Å–æ–º
    description2 = "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ —Å —Ä–∏—Å–æ–º"
    nutrition2 = {
        'calories': 350,
        'protein': 35.0,
        'fat': 4.0,
        'carbs': 25.0
    }
    
    result2 = validate_nutrition_data(nutrition2, description2)
    print(f"\n–¢–µ—Å—Ç 2 - –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏: {nutrition2['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 2 - –ü–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {result2['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 2 - –û–∂–∏–¥–∞–µ–º–æ: 380+ –∫–∫–∞–ª –¥–ª—è –∫—É—Ä–∏—Ü—ã —Å –≥–∞—Ä–Ω–∏—Ä–æ–º")
    
    # –¢–µ—Å—Ç 3: –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ–µ –±–ª—é–¥–æ —Å –∑–∞–Ω–∏–∂–µ–Ω–∏–µ–º
    description3 = "–¥–æ–º–∞—à–Ω–∏–π –æ–±–µ–¥: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, —Ä–∏—Å, —è–π—Ü–æ, –æ–≥—É—Ä—Ü—ã, –ø–æ–º–∏–¥–æ—Ä—ã, –∑–µ–ª–µ–Ω—å"
    nutrition3 = {
        'calories': 320,  # –°–∏–ª—å–Ω–æ –∑–∞–Ω–∏–∂–µ–Ω–æ –¥–ª—è 6 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
        'protein': 28.0,
        'fat': 2.0,
        'carbs': 15.0
    }
    
    result3 = validate_nutrition_data(nutrition3, description3)
    print(f"\n–¢–µ—Å—Ç 3 - –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏: {nutrition3['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 3 - –ü–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {result3['calories']} –∫–∫–∞–ª")
    print(f"–¢–µ—Å—Ç 3 - –û–∂–∏–¥–∞–µ–º–æ: 420+ –∫–∫–∞–ª –¥–ª—è 6 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤")
    
    print("\n" + "=" * 60)
    print("üéØ –ü–†–û–í–ï–†–ö–ê: –í—Å–µ —Å–ª–æ–∂–Ω—ã–µ –±–ª—é–¥–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏ (400+ –∫–∫–∞–ª)")

if __name__ == "__main__":
    test_enhanced_validation()

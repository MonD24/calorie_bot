#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –æ—Ç–≤–µ—Ç–∞ GPT
"""

import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent))

from utils.photo_processor import extract_description_from_photo_response

def test_description_extraction():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏"""
    
    print("üß™ –¢–ï–°–¢ –ò–ó–í–õ–ï–ß–ï–ù–ò–Ø –û–ü–ò–°–ê–ù–ò–Ø –ë–õ–Æ–î–ê")
    print("=" * 50)
    
    # –¢–µ—Å—Ç 1: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
    response1 = """–ù–∞ —Ñ–æ—Ç–æ –∫—É—Ä–∏–Ω–æ–µ –±–ª—é–¥–æ —Å –≥–∞—Ä–Ω–∏—Ä–æ–º: –∂–∞—Ä–µ–Ω–∞—è –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –æ—Ç–≤–∞—Ä–Ω–æ–π —Ä–∏—Å, –≤–∞—Ä–µ–Ω–æ–µ —è–π—Ü–æ, –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—É—Ä—Ü—ã, –±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü

üìä –®–ê–ì 2 - –†–ê–°–ß–ï–¢ –ö–ê–ñ–î–û–ì–û –ò–ù–ì–†–ï–î–ò–ï–ù–¢–ê:
–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ –∂–∞—Ä–µ–Ω–∞—è ~120–≥: 165√ó1.2√ó1.2 = 238 –∫–∫–∞–ª, 37–≥ –±–µ–ª–∫–∞, 5–≥ –∂–∏—Ä–æ–≤
–†–∏—Å –æ—Ç–≤–∞—Ä–Ω–æ–π ~100–≥: 116√ó1.0 = 116 –∫–∫–∞–ª, 2.2–≥ –±–µ–ª–∫–∞, 0.5–≥ –∂–∏—Ä–æ–≤, 23–≥ —É–≥–ª–µ–≤–æ–¥–æ–≤
–Ø–π—Ü–æ –≤–∞—Ä–µ–Ω–æ–µ ~50–≥: 155√ó0.5 = 78 –∫–∫–∞–ª, 6.5–≥ –±–µ–ª–∫–∞, 5.5–≥ –∂–∏—Ä–æ–≤

–ò–¢–û–ì–û: 432 –∫–∫–∞–ª, 45.7 –≥ –±–µ–ª–∫–∞, 11 –≥ –∂–∏—Ä–æ–≤, 25 –≥ —É–≥–ª–µ–≤–æ–¥–æ–≤"""
    
    description1 = extract_description_from_photo_response(response1)
    print(f"–¢–µ—Å—Ç 1 - –†–µ–∑—É–ª—å—Ç–∞—Ç: '{description1}'")
    print("‚úÖ –û–∂–∏–¥–∞–µ–º–æ: –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤")
    
    # –¢–µ—Å—Ç 2: –û–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ "–ù–∞ —Ñ–æ—Ç–æ"
    response2 = """–ö—É—Ä–∏–Ω–æ–µ –±–ª—é–¥–æ —Å –æ–≤–æ—â–∞–º–∏ –∏ —Ä–∏—Å–æ–º
    
üìä –®–ê–ì 2 - –†–ê–°–ß–ï–¢:
–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ ~100–≥: 165 –∫–∫–∞–ª
–ò–¢–û–ì–û: 165 –∫–∫–∞–ª"""
    
    description2 = extract_description_from_photo_response(response2)
    print(f"\n–¢–µ—Å—Ç 2 - –†–µ–∑—É–ª—å—Ç–∞—Ç: '{description2}'")
    
    # –¢–µ—Å—Ç 3: –û–ø–∏—Å–∞–Ω–∏–µ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
    response3 = """üìã –ù–∞ —Ñ–æ—Ç–æ –¥–æ–º–∞—à–Ω–µ–µ –∫—É—Ä–∏–Ω–æ–µ –±–ª—é–¥–æ: –∫—É—Ä–∏—Ü–∞, —Ä–∏—Å, —è–π—Ü–æ, —Å–æ–ª–µ–Ω—ã–µ –æ–≥—É—Ä—Ü—ã
    
üìä –†–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π..."""
    
    description3 = extract_description_from_photo_response(response3)
    print(f"\n–¢–µ—Å—Ç 3 - –†–µ–∑—É–ª—å—Ç–∞—Ç: '{description3}'")
    
    print("\n" + "=" * 50)
    print("üéØ –ü–†–û–í–ï–†–ö–ê: –í—Å–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤")

if __name__ == "__main__":
    test_description_extraction()

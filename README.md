# ๏ฟฝ๏ธ Fat Helper - Telegram ะฑะพั ะดะปั ะฟะพะดััะตัะฐ ะบะฐะปะพัะธะน

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![Telegram](https://img.shields.io/badge/telegram-bot-blue.svg)
![OpenAI](https://img.shields.io/badge/OpenAI-GPT4--Vision-green.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Tests](https://github.com/MonD24/calorie_bot/workflows/Tests/badge.svg)

ะฃะผะฝัะน Telegram-ะฑะพั ะดะปั ะบะพะฝััะพะปั ะบะฐะปะพัะธะน ั ะะ-ะฐะฝะฐะปะธะทะพะผ ัะพัะพะณัะฐัะธะน ะตะดั ะธ ะฟะตััะพะฝะฐะปัะฝัะผะธ ัะตะบะพะผะตะฝะดะฐัะธัะผะธ.

## โก ะัััััะน ััะฐัั

**๐ [QUICKSTART.md](QUICKSTART.md) - ะะฐัะฝะธัะต ะทะฐ 2 ะผะธะฝััั!**

## ๐ ะะพะทะผะพะถะฝะพััะธ

### ๏ฟฝ ะะ-ะฐะฝะฐะปะธะท ัะพัะพะณัะฐัะธะน
- **GPT-4 Vision API** ะดะปั ัะพัะฝะพะณะพ ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั ะฑะปัะด
- ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะพะดััะตั **ะบะฐะปะพัะธะน, ะฑะตะปะบะพะฒ, ะถะธัะพะฒ, ัะณะปะตะฒะพะดะพะฒ**
- ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต **ะผะฝะพะถะตััะฒะตะฝะฝัั ะฑะปัะด** ะฝะฐ ะพะดะฝะพะผ ัะพัะพ
- ะะฟัะตะดะตะปะตะฝะธะต **ัะฐะทะผะตัะฐ ะฟะพััะธะน** ะธ ะฒะตัะฐ ะฟัะพะดัะบัะพะฒ

### โ๏ธ ะะธะฑะบะธะน ัะตะบััะพะฒัะน ะฒะฒะพะด
- **"ะกัะตะป ะฑะพัั"** - ะฑะพั ััะพัะฝะธั ะดะตัะฐะปะธ  
- **"ะะพัั, 350 ะบะบะฐะป"** - ะผะณะฝะพะฒะตะฝะฝะพะต ะดะพะฑะฐะฒะปะตะฝะธะต
- **"100ะณ ะณัะตัะบะธ + 200ะณ ะบััะธัั"** - ะดะตัะฐะปัะฝัะน ะฐะฝะฐะปะธะท
- ะะฐะทะฐ ะธะท **500+ ะฟะพะฟัะปััะฝัั ะฟัะพะดัะบัะพะฒ**

### ๐ฏ ะะตััะพะฝะฐะปัะฝัะต ัะตะปะธ
- **ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฐััะตั** ะฝะพัะผั ะบะฐะปะพัะธะน (Mifflin-St Jeor)
- **3 ัะตะถะธะผะฐ**: ะฟะพััะดะตะฝะธะต (-500 ะบะบะฐะป), ะฟะพะดะดะตัะถะฐะฝะธะต, ะฝะฐะฑะพั ะผะฐััั (+300 ะบะบะฐะป)
- **ะะฐััะพะผะฝัะต ะปะธะผะธัั** ะบะฐะปะพัะธะน (800-5000 ะบะบะฐะป/ะดะตะฝั)
- **ะขัะตะบะธะฝะณ ะฒะตัะฐ** ั ะธััะพัะธะตะน ะธะทะผะตะฝะตะฝะธะน

### ๐ ะฃะผะฝัะน ะดะฝะตะฒะฝะธะบ ะฟะธัะฐะฝะธั
- ะะพะดัะพะฑะฝะฐั **ะธััะพัะธั ะฒัะตั ะฟัะธะตะผะพะฒ ะฟะธัะธ**
- **ะัะพะณัะตัั ะฟะพ ะดะฝัะผ** ั ะพะฑัะธะผ ะะะฃ
- **ะััะฐัะพะบ ะบะฐะปะพัะธะน** ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- **ะฃะฒะตะดะพะผะปะตะฝะธั** ะพ ะฟัะตะฒััะตะฝะธะธ ะปะธะผะธัะฐ

## ๐ ะฃััะฐะฝะพะฒะบะฐ

### ๐ง Linux/macOS (ะะฒัะพะผะฐัะธัะตัะบะธ)
```bash
git clone https://github.com/yourusername/calorie-bot.git
cd calorie-bot
chmod +x setup_and_run.sh
./setup_and_run.sh
```

### ๐ช Windows
```bash
git clone https://github.com/yourusername/calorie-bot.git
cd calorie-bot
test_and_run.bat
```

### ๐ง ะััะฝะฐั ัััะฐะฝะพะฒะบะฐ
```bash
# 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt

# 2. ะะฐัััะพะนะบะฐ .env ัะฐะนะปะฐ
echo "TELEGRAM_BOT_TOKEN=your_bot_token" > .env
echo "OPENAI_API_KEY=your_openai_key" >> .env

# 3. ะะฐะฟััะบ
python calorie_bot_modular.py
```

## ๐ฑ ะะพะผะฐะฝะดั

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `/start` | ๐ **ะะตะณะธัััะฐัะธั ะธ ะฝะฐัััะพะนะบะฐ ะฟัะพัะธะปั** |
| `/goal` | ๐ฏ **ะกะผะตะฝะฐ ัะตะปะธ** (ะฟะพััะดะตะฝะธะต/ะฟะพะดะดะตัะถะฐะฝะธะต/ะฝะฐะฑะพั) |
| `/limit 2000` | โก **ะะฐััะพะผะฝัะน ะปะธะผะธั ะบะฐะปะพัะธะน** (800-5000) |
| `/left` | ๐ **ะััะฐัะพะบ ะบะฐะปะพัะธะน** ะฝะฐ ัะตะณะพะดะฝั |
| `/food` | ๐ **ะะฝะตะฒะฝะธะบ ะฟะธัะฐะฝะธั** ั ะะะฃ |
| `/weight 70` | โ๏ธ **ะะฑะฝะพะฒะธัั ะฒะตั** ะดะปั ะฟะตัะตััะตัะฐ ะฝะพัะผั |

## ๐ง ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### ๐ธ ะัะฟัะฐะฒััะต ัะพัะพ ะตะดั
```
๐ [ะคะะขะ ะะะะฉะ]
๐ค "ะะฑะฝะฐััะถะตะฝ ะฑะพัั ัะบัะฐะธะฝัะบะธะน ั ะผััะพะผ, ะฟัะธะผะตัะฝะพ 300ะณ
    ะะฐะปะพัะธะธ: 210 ะบะบะฐะป | ะ: 12ะณ | ะ: 8ะณ | ะฃ: 20ะณ
    ะะพะฑะฐะฒะธัั ะฒ ะดะฝะตะฒะฝะธะบ?"
```

### โ๏ธ ะะฟะธัะธัะต ัะตะบััะพะผ
```
๐ค "ะกัะตะป ัะฐััะผั"
๐ค "ะะฐะบะพะณะพ ัะฐะทะผะตัะฐ ะฑัะปะฐ ัะฐััะผะฐ? (ะผะฐะปะตะฝัะบะฐั/ััะตะดะฝัั/ะฑะพะปััะฐั)"

๐ค "ะจะฐััะผะฐ, 650 ะบะบะฐะป"  
๐ค "โ ะะพะฑะฐะฒะปะตะฝะพ: ะจะฐััะผะฐ (650 ะบะบะฐะป)"
```

## ๐๏ธ ะััะธัะตะบัััะฐ

```
๐ calorie_bot/
โโโ ๐ calorie_bot_modular.py     # ะะปะฐะฒะฝัะน ัะฐะนะป
โโโ โ๏ธ config.py                  # ะะพะฝัะธะณััะฐัะธั
โโโ ๐ handlers/                  # ะะฑัะฐะฑะพััะธะบะธ
โ   โโโ commands.py               # ะะพะผะฐะฝะดั (/start, /goal, etc)
โ   โโโ text_handler.py           # ะะฐััะธะฝะณ ัะตะบััะฐ + ัะตะณะธัััะฐัะธั
โ   โโโ photo_handler.py          # GPT-4 Vision ะฐะฝะฐะปะธะท
โ   โโโ callback_handler.py       # Inline ะบะฝะพะฟะบะธ
โโโ ๐ utils/                     # ะฃัะธะปะธัั
โ   โโโ calorie_calculator.py     # BMR/TDEE ัะฐััะตัั
โ   โโโ photo_processor.py        # ะะฑัะฐะฑะพัะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
โ   โโโ user_data.py              # JSON ััะฐะฝะธะปะธัะต
โโโ ๐ data/                      # ะะฐะทะฐ ะดะฐะฝะฝัั
โ   โโโ calorie_database.py       # 500+ ะฟัะพะดัะบัะพะฒ
โโโ ๐ user_data/                 # ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะดะฐะฝะฝัะต
    โโโ profiles.json             # ะัะพัะธะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
    โโโ diary_entries.json        # ะะฝะตะฒะฝะธะบะธ ะฟะธัะฐะฝะธั
    โโโ food_logs.json            # ะะพะณะธ ะฒัะตั ะฟัะธะตะผะพะฒ ะฟะธัะธ
```

## ๏ฟฝ ะะตะทะพะฟะฐัะฝะพััั & ะัะธะฒะฐัะฝะพััั

- ๐ **API ะบะปััะธ** ัะพะปัะบะพ ะฒ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
- ๐พ **ะะพะบะฐะปัะฝะพะต ััะฐะฝะตะฝะธะต** ะดะฐะฝะฝัั (ะฑะตะท ะฒะฝะตัะฝะธั ะะ)
- ๐ก๏ธ **ะะตะทะพะฟะฐัะฝะฐั ะฟะตัะตะดะฐัะฐ** ะธะทะพะฑัะฐะถะตะฝะธะน ัะตัะตะท OpenAI API
- ๐ **ะะฒัะพะผะฐัะธัะตัะบะธะต ะฑัะบะฐะฟั** ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะดะฐะฝะฝัั

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

- โก **< 3 ัะตะบ** ะฐะฝะฐะปะธะท ัะพัะพ ัะตัะตะท GPT-4 Vision
- ๐พ **< 1 ะะ** ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะณะพะด
- ๐ **ะะฒัะพะฟะตัะตะทะฐะฟััะบ** ะฟัะธ ัะฑะพัั
- ๐ **ะะพัะฐัะธั ะปะพะณะพะฒ** ะดะปั ัะบะพะฝะพะผะธะธ ะผะตััะฐ

## ๐ ะะธะฐะณะฝะพััะธะบะฐ

```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ
./setup_and_run.sh logs

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ  
./setup_and_run.sh status

# ะะตัะตะทะฐะฟััะบ ะฑะพัะฐ
./setup_and_run.sh restart

# ะััะฐะฝะพะฒะบะฐ
./setup_and_run.sh stop
```

## ๏ฟฝ ะขัะตะฑะพะฒะฐะฝะธั

- **Python 3.8+**
- **Telegram Bot Token** ([ัะพะทะดะฐัั ะฑะพัะฐ](https://t.me/BotFather))
- **OpenAI API Key** ([ะฟะพะปััะธัั ะบะปัั](https://platform.openai.com))
- **~$5/ะผะตั** ะฝะฐ OpenAI API (ะฟัะธ ัะผะตัะตะฝะฝะพะผ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ)

## ๏ฟฝ Changelog

**v1.0.0** - ะะพะปะฝัะน ัะตะปะธะท
- โ ะะฝะฐะปะธะท ัะพัะพ ัะตัะตะท GPT-4 Vision  
- โ ะััะฝะพะน ะฒะฒะพะด ะบะฐะปะพัะธะน + ะฐะฒัะพะฟะฐััะธะฝะณ
- โ ะะตััะพะฝะฐะปัะฝัะต ัะตะปะธ ะธ ะบะฐััะพะผะฝัะต ะปะธะผะธัั
- โ ะะฐะทะฐ ะธะท 500+ ะฟัะพะดัะบัะพะฒ
- โ ะัะพััะฟะปะฐััะพัะผะตะฝะฝัะต ัะบัะธะฟัั ัััะฐะฝะพะฒะบะธ

[ะะพะปะฝัะน CHANGELOG.md](CHANGELOG.md)

## ๏ฟฝ ะขะตััะธัะพะฒะฐะฝะธะต

ะัะต ัะตััั ะฝะฐัะพะดัััั ะฒ ะดะธัะตะบัะพัะธะธ `tests/` ะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั ะฒ GitHub Actions.

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

**Windows:**
```bash
run_tests.bat
```

**Linux/macOS:**
```bash
chmod +x run_tests.sh
./run_tests.sh
```

**ะะปะธ ะฝะฐะฟััะผัั ัะตัะตะท pytest:**
```bash
# ะัะต ัะตััั
pytest tests/ -v

# ะะพะฝะบัะตัะฝัะน ัะตัั
pytest tests/test_simple.py -v

# ะก ะฟะพะบัััะธะตะผ ะบะพะดะฐ
pytest tests/ --cov=. --cov-report=html
```

### CI/CD

ะขะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั ะฟัะธ:
- Push ะฒ ะฒะตัะบะธ `main`, `beer-fix`, `develop`
- ะกะพะทะดะฐะฝะธะธ Pull Request
- ะััะฝะพะผ ะทะฐะฟััะบะต ัะตัะตะท GitHub Actions

ะะพะดัะพะฑะฝะตะต: [tests/README.md](tests/README.md)

## ๏ฟฝ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

ะงะธัะฐะนัะต [CONTRIBUTING.md](CONTRIBUTING.md) ะดะปั ะธะฝััััะบัะธะน ะฟะพ ััะฐััะธั.

## ๐ ะะธัะตะฝะทะธั

MIT License - ะฟะพะดัะพะฑะฝะพััะธ ะฒ [LICENSE](LICENSE)

---

โญ **ะะพะฝัะฐะฒะธะปัั ะฟัะพะตะบั? ะะพััะฐะฒััะต ะทะฒะตะทะดั!**  
๐ **ะะฐัะปะธ ะฑะฐะณ?** [ะกะพะทะดะฐะนัะต issue](https://github.com/yourusername/calorie-bot/issues)  
๐ก **ะััั ะธะดะตั?** [ะะฑััะดะธะผ ะฒ Discussions](https://github.com/yourusername/calorie-bot/discussions)
